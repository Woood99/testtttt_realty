@import "../$vars.scss";
.video-player {
	border-radius: 12px;
	position: relative;
	.vjs-poster {
		img {
			object-fit: cover !important;
		}
	}
	.vjs-progress-control {
		position: absolute;
		top: -12px;
		left: 0;
		height: 8px;
		width: 100%;
		z-index: 1;
		&:hover {
			.vjs-progress-holder {
				height: 10px !important;
			}
			.vjs-play-progress:before {
				font-size: 1.1em;
			}
		}
		@media (max-width: $desktop) {
			top: 33px;
		}
	}
	.vjs-control-bar {
		background-color: transparent;
		margin-top: 8px;
		z-index: 999;
		height: 4em;
	}
	.vjs-play-control {
		.vjs-icon-placeholder {
			&::before {
				font-size: 2.35em;
			}
		}
	}

	.vjs-play-progress {
		background-color: #3272eb;
		&::before {
			top: 2px;
		}
	}
	.vjs-load-progress {
		background-color: rgba(194, 202, 212, 0.8);
		> div {
			background-color: transparent;
		}
	}
	.vjs-progress-control .vjs-progress-holder {
		margin: 0 13px;
		background-color: rgba(194, 202, 212, 0.8);
		height: 6px;
		@media (max-width: $desktop) {
			margin: 0;
		}
	}
	.vjs-mouse-display {
		z-index: 1000 !important;
	}

	.vjs-playback-rate {
		margin-left: auto;
		z-index: 100;
		width: 35px;
		display: none;
		.vjs-menu-content {
			min-width: 85px;
			bottom: 40px;
			left: -20px;
			background-color: var(--white);
			font-size: 14px;
			color: var(--dark);
			border-radius: 12px !important;
			.vjs-selected {
				background-color: rgba(0, 150, 255, 0.08);
				color: var(--blue);
			}
		}
		.vjs-menu-item {
			&:hover {
				background-color: #f2f2f2;
			}
		}
		&.vjs-hover {
			.vjs-menu {
				display: none;
			}
		}
		.vjs-playback-rate-value {
			display: flex;
			justify-content: center;
			font-size: 1.65em;
			line-height: 2.3;
		}
	}

	.vjs-marker {
		position: absolute;
		top: 0;
		width: 4px;
		height: 100%;
		background-color: var(--white);
		pointer-events: none;
		margin-right: 2px;
	}

	.vjs-custom-time {
		padding: 0 10px;
		display: flex;
		align-items: center;
		width: auto;
		font-size: 14px;
		margin-top: 2px;
		height: 80%;
	}

	.vjs-timecode-title {
		padding: 0 10px;
		display: flex;
		align-items: center;
		gap: 8px;
		width: auto;
		font-size: 14px;
		margin-top: 2px;
		height: 80%;
		span {
			font-size: 20px;
			margin-top: 2px;
		}
	}
	.vjs-time-tooltip {
		display: none !important;
	}

	.vjs-tooltip {
		position: absolute;
		bottom: calc(100% + 8px);
		left: 0px;
		background-color: rgba(0, 0, 0, 0.8);
		color: rgb(255, 255, 255);
		padding: 10px 16px;
		border-radius: 6px;
		font-size: 13px;
		opacity: 0;
		transition: opacity 0.2s;

		display: flex;
		flex-direction: column;
		text-align: center;
	}
	.vjs-modal-dialog-content {
		display: none;
	}
	.vjs-live-control.vjs-control {
		font-size: 11px;
		line-height: 11px;
		margin-top: -4px;
		margin-left: 10px;

		align-items: center;
		.vjs-live-display {
			color: var(--dark);
			background-color: var(--white);
			padding: 6px 12px;
			border-radius: 12px;
		}
	}

	.vjs-control.vjs-button {
		&.vjs-play-control {
			@media (max-width: $desktop) {
				display: none;
			}
		}

		&.vjs-fullscreen-control {
			margin-left: auto;
			.vjs-icon-placeholder {
				&::before {
					font-size: 2.3em;
				}
			}
		}
	}
	.vjs-volume-panel {
		.vjs-control.vjs-button.vjs-mute-control {
			display: flex;
			align-items: center;
			justify-content: center;
			.vjs-icon-placeholder {
				position: absolute;
				display: flex;
				align-items: center;
				justify-content: center;
				width: 20px;
				height: 20px;
				&::before {
					content: "";
					background-size: cover;
					background-position: center;
					width: 20px;
					height: 20px;
					font-family: none !important;
				}
			}
			&.vjs-vol-0 {
				.vjs-icon-placeholder {
					&::before {
						background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M16 9a5 5 0 0 1 .95 2.293'/><path d='M19.364 5.636a9 9 0 0 1 1.889 9.96'/><path d='m2 2 20 20'/><path d='m7 7-.587.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298V11'/><path d='M9.828 4.172A.686.686 0 0 1 11 4.657v.686'/></svg>");
					}
				}
			}
			&.vjs-vol-1 {
				.vjs-icon-placeholder {
					&::before {
						background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z'/><path d='M16 9a5 5 0 0 1 0 6'/></svg>");
					}
				}
			}
			&.vjs-vol-2,
			&.vjs-vol-3 {
				.vjs-icon-placeholder {
					&::before {
						background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z'/><path d='M16 9a5 5 0 0 1 0 6'/><path d='M19.364 18.364a9 9 0 0 0 0-12.728'/></svg>");
					}
				}
			}
		}

		&.vjs-hover {
			width: 12em !important;
			.vjs-volume-horizontal {
				width: 7em !important;
			}
		}
	}
	.vjs-volume-bar {
		margin: 1.5em 0.45em !important;
	}
	.vjs-volume-level {
		height: 0.45em;
		&:before {
			font-size: 1.3em;
		}
	}
	.vjs-volume-bar.vjs-slider-horizontal {
		height: 0.45em;
		width: 7em;
	}
	.vjs-picture-in-picture-control {
		display: none;
	}
	.vjs-custom-fullscreen {
		order: 1;
	}
	.vjs-custom-share {
		position: absolute;
		top: 0;
		right: 0;
	}

	.video-js {
		max-width: 100%;
		width: 100%;
		padding-top: 56.25%;
		height: auto;
		border-radius: 12px;
		overflow: hidden;

		&::before {
			content: "";
			position: absolute;
			box-sizing: content-box;
			top: 0;
			left: 0;
			width: 100%;

			height: 48px;
			padding-bottom: 50px;
			background-repeat: repeat-x;
			pointer-events: none;
			z-index: 25;
			background-position: top;
			background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);
		}

		&::after {
			background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), transparent);
			bottom: 0;
			content: "";
			height: 70px;
			left: 0;
			opacity: 0.6;
			position: absolute;
			transition: all 0.2s ease-in-out;
			width: 100%;
			z-index: 25;
		}

		video.vjs-tech {
			z-index: 1;
		}

		.vjs-big-play-button {
			border: none;
			background-color: transparent;
		}
		@media (max-width: $desktop) {
			border-radius: 0;
		}
	}

	&.adaptive-video-player {
		.vjs-control-bar {
			margin-bottom: 5px;
		}
		.vjs-volume-control.vjs-control.vjs-volume-horizontal {
			display: block;
		}
		.vjs-fullscreen-control {
			display: none;
		}
		.vjs-progress-control {
			top: auto;
			bottom: -6px;
			.vjs-progress-holder {
				margin: 0px;
			}
		}
		.vjs-remaining-time.vjs-time-control.vjs-control {
			display: block;
			font-size: 13px;
			line-height: 13px;
			padding: 0;
			min-width: auto;
			width: auto;

			display: flex;
			align-items: center;
			padding: 0 10px;
		}
		.vjs-layout-x-small .vjs-progress-control {
			display: block !important;
		}
		> .video-js {
			&::before,
			&::after {
				display: none;
			}
		}
	}
}

.video-player-default {
	overflow: hidden;
	.video-js {
		height: 100%;
	}
}

.video-player-sidebar {
	overflow-y: auto;
	height: calc(var(--vh) - 120px);
}

.video-player-sidebar-dynamic {
	transition: all $transitionSpeed $transitionFunction;
	opacity: 0;
	transform: translateY(-100px);
	&._active {
		transform: translateY(0);
		opacity: 1;
	}
}

.video-player-full {
	display: grid;
	grid-template-columns: 1fr minmax(auto, 320px);
	grid-gap: 32px;
}

.video-player-fullscreen {
	max-width: 100%;
	display: block;
}

.shorts-player {
	margin: 0 auto;
	min-height: 560px;
	min-width: 320px;

	position: relative;
	overflow: visible;

	height: calc(var(--vh, 100vh) - 32px);
	width: calc(56.25vh - 54px);
	min-width: 315px;

	@media (max-width: $desktop) {
		height: calc(var(--vh, 100vh) - 59px);
	}

	@media (max-width: $mobile-max) {
		width: 100%;
		min-width: 100%;
	}
	.swiper {
		box-sizing: content-box;
		@media (min-width: $desktop-min) {
			height: calc(var(--vh, 100vh) - 96px);
			padding-bottom: 64px;
			margin-bottom: -64px;
		}
		@media (max-width: $desktop) {
			height: calc(var(--vh, 100vh) - 59px);
		}
	}
}

.shorts-player-controls {
	.video-js {
		height: 100%;
		border-radius: 32px;
		&::after {
			height: 360px;
			background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.85), transparent);
			pointer-events: none;
			@media (max-width: $desktop) {
				height: 320px;
			}
		}
		@media (min-width: $desktop-min) {
			background-color: #2d3436;
			background-image: linear-gradient(90deg, #212627 100%, #000000 80%);
			box-shadow:
				rgba(24, 39, 75, 0.12) 0px 8px 28px -6px,
				rgba(24, 39, 75, 0.3) 0px 18px 88px -4px;
		}

		video.vjs-tech {
			z-index: 1;
			@media (max-width: $desktop) {
				bottom: 0;
				height: 100%;
				left: 50%;
				object-fit: cover;
				position: absolute;
				top: 0;
				transform: translate3d(-50%, 0, 0);
				width: 100%;
			}
		}
	}

	.vjs-fullscreen-control {
		display: none;
	}
	.vjs-progress-control {
		top: 43px;
		height: 2px;
		pointer-events: all;
	}
	.vjs-control-bar {
		bottom: 6px;
		opacity: 1 !important;
		visibility: visible !important;
		pointer-events: none;
	}
	.vjs-play-progress {
		&::before {
			display: none;
		}
	}

	.short-player-volume {
		position: absolute;
		z-index: 99;
		width: 5em;
		height: 5em;

		top: 16px;
		left: 16px;

		border-radius: 50px;

		background-color: transparent;
		transition: all $transitionSpeed ease-in;

		opacity: 0;

		> .vjs-control {
			width: 5em;
			height: 5em !important;
			.vjs-icon-placeholder::before {
				font-size: 3em;
			}
		}
		.vjs-volume-bar.vjs-slider-horizontal {
			height: 0.6em;
			border-radius: 12px;
		}
		.vjs-volume-level {
			height: 0.6em;
			border-radius: 12px;
			&::before {
				font-size: 1.8em;
			}
		}
		.vjs-slider-horizontal {
			width: 12em !important;
		}
		&.vjs-hover {
			width: 180px !important;
			background-color: rgba(78, 78, 78, 0.6);
			.vjs-volume-horizontal {
				width: 12em !important;
			}
		}
		.vjs-volume-bar {
			margin: 2.2em 0.45em !important;
		}

		.vjs-volume-control.vjs-volume-horizontal {
			transition: all $transitionSpeed ease-in !important;
		}
	}
	.vjs-share {
		opacity: 0;
		transition: all $transitionSpeed $transitionFunction;
	}

	.short-player-play {
		display: none;
	}

	.shorts-player-slide {
		&.swiper-slide-active {
			.short-player-play {
				opacity: 1;
			}
			.short-player-volume {
				opacity: 1;
			}
			.vjs-share {
				opacity: 1;
			}
		}
	}
	.vjs-loading-spinner {
		z-index: 999;
	}
}

.video-js-background {
	pointer-events: none;
	&::before {
		content: "";
		background-image: var(--bg-image);
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-size: cover;
		background-position: center;
		filter: blur(12px);
		z-index: 0;
		border-radius: 20px;
	}
}
.video-js-background--video {
	&::before {
		z-index: 1;
	}
}

.vjs-has-started ~ .short-player-status {
	opacity: 1;
	visibility: visible;
	transition: all $transitionSpeedFast $transitionFunction;
}

.vjs-has-started.vjs-user-inactive.vjs-playing ~ .short-player-status {
	visibility: visible;
	opacity: 0;
}

.vjs-big-play-button {
	display: none !important;
}

.video-js.video-js-short-volume {
	border-radius: 52px;
	height: 52px;
	width: 52px;
	position: relative;
	padding: 0;
	overflow: visible !important;
	pointer-events: none;
	background-image: none;
	box-shadow: none;
	top: 0;
	left: 0;
	color: var(--white);

	&::before,
	&::after {
		content: none;
	}

	.vjs-volume-panel.vjs-control.vjs-volume-panel-horizontal {
		pointer-events: all;
		flex-direction: column-reverse;
		width: 52px !important;
		height: 52px !important;
		border-radius: 52px;
		&.vjs-hover {
			height: 160px !important;
			background: #222222;
			box-shadow: inset 0 0 0 1px #363738;
			transform: translateY(-108px);
			.vjs-volume-control.vjs-volume-horizontal {
				height: 4em;
			}
		}
		.vjs-volume-control.vjs-volume-horizontal {
			height: 52px !important;
			width: 100px !important;
			margin: 0 !important;
			transform: rotate(-90deg) translateX(20px);
			left: -24px;
		}
	}
	.vjs-mute-control.vjs-control.vjs-button {
		width: 52px;
		height: 52px;
		margin-bottom: -2px;
		.vjs-icon-placeholder::before {
			font-size: 2.4em;
			line-height: 2;
		}
	}

	.vjs-volume-bar.vjs-slider-horizontal {
		margin: 23px 10px 23px 20px !important;
		.vjs-volume-level {
			height: 0.6em;
		}
	}

	.vjs-mouse-display {
		display: none !important;
	}
}
